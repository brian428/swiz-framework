<?xml version="1.0" encoding="utf-8"?>
<mx:Module xmlns:fx="http://ns.adobe.com/mxml/2009" 
		 xmlns:s="library://ns.adobe.com/flex/spark" 
		 xmlns:mx="library://ns.adobe.com/flex/mx"
		 xmlns:swiz="http://swiz.swizframework.org"
		 xmlns:view="org.swizframework.testable.module.view.*"
		 width="100%" height="100%">
	
	<fx:Script>
		<![CDATA[
			import mx.events.ModuleEvent;
			
			import org.swizframework.testable.module.config.Beans;
			import org.swizframework.testable.module.event.SimpleModuleEvent;
			
			public var moduleEventMediatorRan : Boolean = false;
			public var parentAppEventMediatorRan : Boolean = false;
			
			[Dispatcher]
			public var swizDispatcher : IEventDispatcher;
			
			[Mediate( event="SimpleModuleEvent.MODULE_EVENT" )]
			public function handleSimpleModuleEvent() : void 
			{
				moduleEventMediatorRan = true;
				dispatchEvent( new Event( SimpleModuleEvent.MODULE_EVENT_COMPLETE, true ) );
			}
			
			[Mediate( event="SimpleTestEvent.GENERIC_EVENT" )]
			public function handleParentAppEvent() : void 
			{
				parentAppEventMediatorRan = true;
			}
			
			public function triggerModuleEvent() : void
			{
				dispatchEvent( new Event( SimpleModuleEvent.MODULE_EVENT ) );
			}
			
		]]>
	</fx:Script>
	
	<fx:Declarations>
		<swiz:SwizConfig id="mySwizConfig"
						 eventPackages="org.swizframework.testable.event.*,org.swizframework.testable.module.event.*"
						 viewPackages="org.swizframework.testable.module.view.*" />
		
		<swiz:Swiz id="mySwiz" beanProviders="{[Beans]}" config="{mySwizConfig}" />
	</fx:Declarations>
	
	<view:SimpleModuleCanvas id="simpleModuleCanvas" />
	
</mx:Module>
